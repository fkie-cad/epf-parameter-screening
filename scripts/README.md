# Scripts

This folder contains scripts that should help you to deploy the execution environment we used for EPF's case study. You can, but are not required to explicitely execute these scripts.
They are all wrapped by the `00_setup.bash`, `01_run.bash`, and `02_eval.bash` script sin the repository root. We advise you to use these instead.


| script                                     | description                                                                                                                                            |
| ------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `00_install_repo_dependencies.bash`        | Use APT and pip to install all initial dependencies                                                                                                    |
| `01_init_submodules.bash`                  | Fetch the correct fuzzer versions of both EPF and AFLNet using git submodules (`/fuzzers`)                                                             |
| `02_build_fuzzers.bash`                    | Build the fuzzers (`/fuzzers`)                                                                                                                         |
| `03_patch_fuzzers.bash`                    | AFLNet: Hardcode time limit of 72hrs and add support for IEC 60870-5-104, EPF: Fix incorrect sequence numbering in scapy's IEC model (see `/patches`)  |
| `04_build_validator.bash`                  | Build crash validator go-project for automated payload crash validation of all bug reports generated by the fuzzers                                    |
| `05_build_and_instrument_target.bash`      | Build and instrument LAVA version of lib60870 v2.2 with lots of synthetic ground truth bugs                                                            |
| `06_run_epf_experiment.bash`               | Run the epf experiments in parallel mode, results will be in `/datasets/epf`                                                                           |
| `07_run_aflnet_experiment.bash`            | Run the epf experiments in parallel mode, results will be in `/datasets/aflnet`                                                                        |
| `08_resample_epf_coverage_series_to_1s.py` | We collect EPF debug info with iteration-based granularity. This script resamples these results to an interval of `1s`                                 |
| `09_plot_coverage_results.py`              | Plot the coverage results of both EPF and AFLNet in our presented cov-time-series                                                                      |
| `10_validate_crash_results.py`             | This script is a wrapper for the `/validator` project. It consolidates all reported crashes and replays them for validation                            |
| `11_calculate_crash_statistics.py`         | This script takes the validated crashes as input and calculates the crash statistics we presented in our paper                                         |
